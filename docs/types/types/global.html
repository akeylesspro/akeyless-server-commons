<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>src/types/types/global.ts</title>
    <link rel="stylesheet" href="../../styles.css" />
  </head>
  <body>
    <div class="content">
    <h1>src/types/types/global.ts</h1>
    <h2>Purpose</h2>
    <p>Defines core type aliases for HTTP responses, Express middleware, route handlers, and application-level helper functions. These types provide consistent type definitions used throughout the Akeyless server commons package.</p>

    <h2>Exports</h2>

    <h3><code>JsonOK&lt;T&gt;</code> Type</h3>
    <p>Type alias for successful JSON response functions. Defines the shape of success response creators.</p>
    <p><strong>Type:</strong> <code>(data?: T) => { success: true; data: T | undefined }</code></p>
    <p><strong>Usage:</strong></p>
    <pre><code>const json_ok: JsonOK&lt;{ id: string }&gt; = (data) => ({
  success: true,
  data
});</code></pre>
    <p><strong>Context:</strong> Used by <a href="../../helpers/global_helpers.html">global_helpers.json_ok()</a> function.</p>

    <h3><code>JsonFailed</code> Type</h3>
    <p>Type alias for failed JSON response functions. Defines the shape of error response creators.</p>
    <p><strong>Type:</strong> <code>(error?: any, msg?: string) => { success: false; error: any }</code></p>
    <p><strong>Usage:</strong></p>
    <pre><code>const json_failed: JsonFailed = (error) => ({
  success: false,
  error
});</code></pre>
    <p><strong>Context:</strong> Used by <a href="../../helpers/global_helpers.html">global_helpers.json_failed()</a> function and various middlewares.</p>

    <h3><code>MainRouter</code> Type</h3>
    <p>Type alias for the main router function that registers routes on an Express application.</p>
    <p><strong>Type:</strong> <code>(app: Express) => void</code></p>
    <p><strong>Context:</strong> Used by <a href="../../helpers/start.html">start.ts</a> bootstrap functions.</p>

    <h3><code>MW</code> Type</h3>
    <p>Type alias for Express middleware functions. Provides a consistent type for all middleware functions.</p>
    <p><strong>Type:</strong> <code>(req: Request, res: Response, next: NextFunction) => void</code></p>
    <p><strong>Context:</strong> Used throughout all middleware files (<a href="../../middlewares/auth_mw.html">auth_mw.ts</a>, <a href="../../middlewares/global_mw.html">global_mw.ts</a>, etc.).</p>

    <h3><code>Service</code> Type</h3>
    <p>Type alias for async route handler/service functions. Used for route handlers that don't need the <code>next</code> function.</p>
    <p><strong>Type:</strong> <code>(req: Request, res: Response) => void</code></p>
    <p><strong>Context:</strong> Used by <a href="../../middlewares/error_handling.html">error_handling.async_error_handler()</a>.</p>

    <h3><code>Route</code> Type</h3>
    <p>Type alias for route handler functions with optional <code>next</code> parameter.</p>
    <p><strong>Type:</strong> <code>(req: Request, res: Response, next?: NextFunction) => Response</code></p>

    <h3><code>AddAuditRecord</code> Type</h3>
    <p>Type alias for audit logging function signature.</p>
    <p><strong>Type:</strong> <code>(action: string, entity: string, details: TObject&lt;any&gt;, user?: NxUser) => Promise&lt;void&gt;</code></p>
    <p><strong>Context:</strong> Used by Firebase helpers and other modules for audit logging.</p>

    <h3><code>LangOptions</code> Type</h3>
    <p>Union type representing allowed language codes for translations.</p>
    <p><strong>Type:</strong> <code>"he" | "en" | "ru" | (string &amp; {})</code></p>
    <p><strong>Context:</strong> Used by <a href="../../managers/translation_manager.html">translation_manager</a>.</p>

    <h3><code>EntityOptions</code> Type</h3>
    <p>Union type representing allowed entity names for audit logging.</p>
    <p><strong>Type:</strong> <code>"nx_devices" | (string &amp; {})</code></p>

    <h2>Type Safety Benefits</h2>
    <p>These type aliases provide:</p>
    <ul>
      <li><strong>Consistency</strong> - Standardized types across all modules</li>
      <li><strong>IntelliSense</strong> - Better IDE autocomplete and type checking</li>
      <li><strong>Documentation</strong> - Types serve as inline documentation</li>
      <li><strong>Refactoring Safety</strong> - TypeScript catches breaking changes</li>
    </ul>
    </div>
  </body>
</html>
